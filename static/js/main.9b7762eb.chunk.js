(this.webpackJsonpesrimap=this.webpackJsonpesrimap||[]).push([[0],{16:function(e,a,t){e.exports=t(23)},21:function(e,a,t){},22:function(e,a,t){},23:function(e,a,t){"use strict";t.r(a);var r=t(1),n=t.n(r),o=t(13),s=t.n(o),i=(t(21),t(15)),c=t(4),l=t(5),u=t(6),d=t(9),m=t(8),p=(t(22),t(11)),v=t(10),g=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=a.call(this,e)).mapRef=n.a.createRef(),r.state={map:null},r}return Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(){var e=this;console.log("if a prop has active set to true, this.map will add a layer using prop url"),Object(v.loadModules)(["esri/layers/FeatureLayer"]).then((function(a){var t=Object(p.a)(a,1)[0];console.log(e.props.data[0].active,e.props.data[1].active,e.props.data[2].active);var r=e.map.layers;r.removeAll(),console.log("layers",r),console.log(e.map);for(var n=0;n<e.props.data.length;n++)if(!0===e.props.data[n].active){var o=new t({url:e.props.data[n].url});e.map.add(o)}}))}},{key:"componentDidMount",value:function(){var e=this;Object(v.loadModules)(["esri/Map","esri/views/MapView","esri/widgets/Search","esri/layers/FeatureLayer"],{css:!0}).then((function(a){var t=Object(p.a)(a,4),r=t[0],n=t[1],o=t[2],s=t[3],i=new r({basemap:"topo"});e.view=new n({container:e.mapRef.current,map:i,center:[-118,34],zoom:5});var c=new s({url:e.props.data[0].url});i.add(c);var l=new s({url:e.props.data[1].url});i.add(l);var u=new s({url:e.props.data[2].url});i.add(u);var d=new o({view:e.view});e.view.ui.add(d,"top-right"),e.map=i,console.log(e.map)}))}},{key:"componentWillUnmount",value:function(){this.view&&this.view.destroy()}},{key:"render",value:function(){this.props;return n.a.createElement("div",{className:"webmap",ref:this.mapRef})}}]),t}(n.a.Component),h=t(7),f=t(14),w=function(e){Object(d.a)(t,e);var a=Object(m.a)(t);function t(e){var r;return Object(c.a)(this,t),(r=a.call(this,e)).state={data:[{name:"fire",url:"https://services9.arcgis.com/RHVPKKiFTONKtxq3/arcgis/rest/services/USA_Wildfires_v1/FeatureServer",active:!0},{name:"flood",url:"https://services.arcgis.com/P3ePLMYs2RVChkJx/arcgis/rest/services/USA_Flood_Hazard_Reduced_Set_gdb/FeatureServer",active:!0},{name:"quake",url:"https://services1.arcgis.com/VAI453sU9tG9rSmh/arcgis/rest/services/Major_Earthquakes_features/FeatureServer",active:!0}]},r.toggled=r.toggled.bind(Object(u.a)(r)),r}return Object(l.a)(t,[{key:"toggled",value:function(e){for(var a=e.currentTarget.id,t=Object(i.a)(this.state.data),r=0;r<t.length;r++)t[r].name===a&&(t[r].active=!t[r].active),this.setState({data:t})}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("header",{className:"App-header"}," "),n.a.createElement("div",{className:"leftMenu"},n.a.createElement("div",{className:"nav"},n.a.createElement("ul",{className:"toggleopts"},n.a.createElement("li",{id:"quake",onClick:this.toggled,className:"toggleicon"},n.a.createElement(h.a,null)),n.a.createElement("li",{id:"flood",onClick:this.toggled,className:"toggleicon"},n.a.createElement(h.b,null)),n.a.createElement("li",{id:"fire",onClick:this.toggled,className:"toggleicon"},n.a.createElement(f.a,null)))),n.a.createElement("div",{className:"EsriMapContainer"},n.a.createElement(g,{data:this.state.data}))))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.9b7762eb.chunk.js.map